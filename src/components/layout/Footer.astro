---
import Social from "../ui/Social.astro";
import { getCollection } from "astro:content";

const staticCollection = await getCollection("staticData");
const staticData = staticCollection?.[0]?.data ?? {};

const alias = staticData.alias ?? "Food ReelView";
const email = staticData.email ?? "trust@foodreelviews.com";
const tiktok = staticData.tiktok ?? "https://www.tiktok.com/@foodreelviews";
const discord =
  staticData.discord ??
  "https://discord.com/channels/1034757895268618260/role-subscriptions";
---

<footer
  class="relative bottom-0 w-full px-4 py-8 font-medium text-blacktext dark:bg-transparent dark:border-t dark:border-zinc-800 dark:text-zinc-300 max-lg:mt-3"
  role="contentinfo"
  aria-label="Site footer"
>
  <nav
    class="mx-auto flex max-w-7xl flex-row items-center justify-between gap-6 text-xl max-xl:px-6 max-sm:flex-col"
    aria-label="Footer navigation"
  >
    <a
      href="/"
      aria-label="Return to homepage"
      class="flex flex-col items-center sm:items-start leading-tight group"
    >
      <span class="text-2xl font-black bg-gradient-to-r from-riptide-400 to-mint-400 bg-clip-text text-transparent">
        ğŸ” Food ReelView ğŸ™ï¸
      </span>
      <span class="text-xs font-semibold tracking-widest text-mint-400 opacity-80">
        TikTok Challenge
      </span>
    </a>

    <div class="text-center text-base italic max-sm:mt-4">
      Built with ğŸ«¶ by <strong>{alias}</strong>
    </div>

    <!-- SOCIAL LINKS (NO astro-icon) -->
    <div class="flex items-center gap-5" role="group">
      <!-- Email -->
      <a
        href={`mailto:${email}`}
        aria-label={`Email ${email}`}
        class="hover:scale-110 transition-transform"
      >
        âœ‰ï¸
      </a>

      <!-- TikTok (INLINE SVG â€” NO ICON PACKS) -->
      <a
        href={tiktok}
        target="_blank"
        rel="noopener noreferrer"
        aria-label="Visit Food ReelView on TikTok"
        class="hover:scale-110 transition-transform"
      >
        <svg
          width="22"
          height="22"
          viewBox="0 0 24 24"
          fill="currentColor"
          aria-hidden="true"
        >
          <path d="M21 8.1c-1.8.1-3.6-.5-5-1.6v8.1c0 3.6-2.9 6.5-6.5 6.5S3 18.2 3 14.6s2.9-6.5 6.5-6.5c.5 0 1 .1 1.5.2v3.4c-.5-.3-1-.5-1.5-.5-1.4 0-2.6 1.2-2.6 2.6S8.1 16.4 9.5 16.4s2.6-1.2 2.6-2.6V3h3.4c.2 1.4 1.6 3.4 5.5 3.6v1.5z"/>
        </svg>
      </a>

      <!-- Discord -->
      <a
        href={discord}
        target="_blank"
        rel="noopener noreferrer"
        aria-label="Join the Food ReelView Discord"
        class="hover:scale-110 transition-transform"
      >
        ğŸ’¬
      </a>
    </div>
  </nav>
</footer>