---
import Social from "../ui/Social.astro";
import { getCollection } from "astro:content";

const staticCollection = await getCollection("staticData");
const staticData = staticCollection?.[0]?.data ?? {};

const alias = staticData.alias ?? "Food ReelView";
const email = staticData.email ?? "trust@foodreelviews.com";
const tiktok = staticData.tiktok ?? "https://www.tiktok.com/@foodreelviews";
const discord =
  staticData.discord ??
  "https://discord.com/channels/1034757895268618260/role-subscriptions";
---

<footer
  class="relative bottom-0 w-full px-4 py-8 font-medium text-blacktext dark:bg-transparent dark:border-t dark:border-zinc-800 dark:text-zinc-300 max-lg:mt-3"
  role="contentinfo"
  aria-label="Site footer"
>
  <nav
    class="mx-auto flex max-w-7xl flex-row items-center justify-between gap-6 text-xl max-xl:px-6 max-sm:flex-col"
    aria-label="Footer navigation"
  >
    <a
      href="/"
      aria-label="Return to homepage"
      class="flex flex-col items-center sm:items-start leading-tight group"
    >
      <span class="text-2xl font-black bg-gradient-to-r from-riptide-400 to-mint-400 bg-clip-text text-transparent">
        üçî Food ReelView üéôÔ∏è
      </span>
      <span class="text-xs font-semibold tracking-widest text-mint-400 opacity-80">
        TikTok Challenge
      </span>
    </a>

    <div class="text-center text-base italic max-sm:mt-4">
      Built with ü´∂ by <strong>{alias}</strong>
    </div>

    <!-- SOCIAL LINKS -->
    <div class="flex items-center gap-5" role="group">
      <!-- Email -->
      <a
        href={`mailto:${email}`}
        aria-label={`Email ${email}`}
        class="hover:scale-110 transition-transform text-current hover:text-mint-400"
        title="Send us an email"
      >
        <svg 
          xmlns="http://www.w3.org/2000/svg" 
          width="24" 
          height="24" 
          viewBox="0 0 24 24" 
          fill="currentColor"
          class="w-6 h-6"
          aria-hidden="true"
        >
          <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>
        </svg>
      </a>

      <!-- TikTok (INLINE SVG) -->
      <a
        href={tiktok}
        target="_blank"
        rel="noopener noreferrer"
        aria-label="Visit Food ReelView on TikTok"
        class="hover:scale-110 transition-transform text-current hover:text-mint-400"
        title="Follow us on TikTok"
      >
        <svg
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="currentColor"
          class="w-6 h-6"
          aria-hidden="true"
        >
          <path d="M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.33 6.33 0 0 0-1-.08A6.34 6.34 0 0 0 5 20.1a6.32 6.32 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"/>
        </svg>
      </a>

      <!-- Discord -->
      <a
        href={discord}
        target="_blank"
        rel="noopener noreferrer"
        aria-label="Join the Food ReelView Discord"
        class="hover:scale-110 transition-transform text-current hover:text-mint-400"
        title="Join our Discord community"
      >
        <svg 
          xmlns="http://www.w3.org/2000/svg" 
          width="24" 
          height="24" 
          viewBox="0 0 24 24" 
          fill="currentColor"
          class="w-6 h-6"
          aria-hidden="true"
        >
          <path d="M20.317 4.3698a19.7913 19.7913 0 0 0-4.8851-1.5152.0741.0741 0 0 0-.0795.0371c-.2113.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.405-.8742-.6177-1.2495a.077.077 0 0 0-.0795-.0371A19.7363 19.7363 0 0 0 3.6828 4.3698a.0699.0699 0 0 0-.0321.0277C.5334 9.0457-.319 13.5799.0993 18.0578a.0824.0824 0 0 0 .0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 0 0 .0842-.0276c.4616-.6304.8701-1.2952 1.2228-1.9945a.076.076 0 0 0-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 0 1-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 0 1 .0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 0 1 .0785.0105c.1202.099.2459.1961.3718.2914a.077.077 0 0 1-.0066.1277c-.598.3428-1.2194.6447-1.8722.8923a.076.076 0 0 0-.0416.1057c.3527.6993.7612 1.3641 1.2228 1.9945a.076.076 0 0 0 .0842.0276c1.9516-.6066 3.9401-1.5218 5.9929-3.0294a.077.077 0 0 0 .0312-.0561c.5004-5.177-.8382-9.6739-3.5515-13.6604a.061.061 0 0 0-.0312-.0277zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3333.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3333-.9555 2.4189-2.1569 2.4189zm7.975 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3333.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3333-.946 2.4189-2.1568 2.4189z"/>
        </svg>
      </a>
    </div>
  </nav>
</footer>