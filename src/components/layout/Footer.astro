---
import Social from "../ui/Social.astro";
import { Icon } from "astro-icon/components";
import { getCollection } from "astro:content";

// üîí SAFE content loading (prevents build crashes)
const staticCollection = await getCollection("staticData");
const staticData = staticCollection?.[0]?.data ?? {};

const {
  alias = "Food ReelView",
  email = "trust@foodreelviews.com",
  tiktok = "https://www.tiktok.com/@foodreelviews",
  discord = "https://discord.com/channels/1034757895268618260/role-subscriptions",
  emailIconName = "envelope",
  tiktokIconName = "tiktok",
  discordIconName = "discord",
} = staticData;
---

<footer
  class="relative bottom-0 w-full px-4 py-8 font-medium text-blacktext dark:bg-transparent dark:border-t dark:border-zinc-800 dark:text-zinc-300 max-lg:mt-3"
  role="contentinfo"
  aria-label="Site footer"
>
  <nav
    class="mx-auto flex max-w-7xl flex-row items-center justify-between gap-6 text-xl max-xl:px-6 max-sm:flex-col"
    aria-label="Footer navigation"
  >
    <!-- ‚úÖ Text Logo -->
    <a
      href="/"
      aria-label="Return to homepage"
      class="flex flex-col items-center sm:items-start leading-tight group"
    >
      <span
        class="text-2xl font-black bg-gradient-to-r from-riptide-400 to-mint-400 bg-clip-text text-transparent transition-all duration-300 group-hover:drop-shadow-[0_0_12px_#5fffc9]"
      >
        üçî Food ReelView üéôÔ∏è
      </span>
      <span
        class="text-xs font-semibold tracking-widest text-mint-400 opacity-80 group-hover:opacity-100 transition-all"
      >
        TikTok Challenge
      </span>
    </a>

    <!-- ‚úÖ Developer / Brand Credit (NO GitHub link) -->
    <div class="text-center text-base italic max-sm:mt-4">
      <div class="flex items-center justify-center gap-2 font-normal">
        <Icon name="sparkles" aria-hidden="true" class="text-mint-400" />
        Built with ‚ù§Ô∏è‚Äçüî• by <strong>{alias}</strong>
      </div>
    </div>

    <!-- ‚úÖ Social Icons (Email ‚Ä¢ TikTok ‚Ä¢ Discord ONLY) -->
    <div
      class="flex items-center justify-center gap-5"
      role="group"
      aria-label="Social media links"
    >
      <Social
        link={`mailto:${email}`}
        iconName={emailIconName}
        label={`Email ${email}`}
      />
      <Social
        link={tiktok}
        iconName={tiktokIconName}
        label="Visit Food ReelView on TikTok"
      />
      <Social
        link={discord}
        iconName={discordIconName}
        label="Join the Food ReelView Discord"
      />
    </div>
  </nav>
</footer>